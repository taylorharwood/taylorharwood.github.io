!function(n){var i={strength:25,scale:2.25,animationSpeed:"100ms",contain:!0,wrapContent:!1};n.fn.interactive_bg=function(t){return this.each(function(){var a=n.extend({},i,t),e=n(this),r=e.outerHeight(),o=e.outerWidth(),s=a.strength/r,m=a.strength/o;1==a.contain&&e.css({overflow:"hidden"}),0==a.wrapContent?e.prepend("<div class='ibg-bg'></div>"):e.wrapInner("<div class='ibg-bg'></div>"),void 0!==e.data("ibg-bg")&&e.find("> .ibg-bg").css({background:"url('"+e.data("ibg-bg")+"') no-repeat center center","background-size":"cover"}),e.find("> .ibg-bg").css({width:o,height:r}),e.mouseenter(function(n){1!=a.scale&&e.addClass("ibg-entering"),e.find("> .ibg-bg").css({"-webkit-transform":"matrix("+a.scale+",0,0,"+a.scale+",0,0)","-moz-transform":"matrix("+a.scale+",0,0,"+a.scale+",0,0)","-o-transform":"matrix("+a.scale+",0,0,"+a.scale+",0,0)",transform:"matrix("+a.scale+",0,0,"+a.scale+",0,0)","-webkit-transition":"-webkit-transform "+a.animationSpeed+" linear","-moz-transition":"-moz-transform "+a.animationSpeed+" linear","-o-transition":"-o-transform "+a.animationSpeed+" linear",transition:"transform "+a.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.removeClass("ibg-entering")})}).mousemove(function(n){if(!e.hasClass("ibg-entering")&&!e.hasClass("exiting")){var i=n.pageX||n.clientX,t=n.pageY||n.clientY,i=i-e.offset().left-o/2,t=t-e.offset().top-r/2,c=m*i*-1,d=s*t*-1;e.find("> .ibg-bg").css({"-webkit-transform":"matrix("+a.scale+",0,0,"+a.scale+","+c+","+d+")","-moz-transform":"matrix("+a.scale+",0,0,"+a.scale+","+c+","+d+")","-o-transform":"matrix("+a.scale+",0,0,"+a.scale+","+c+","+d+")",transform:"matrix("+a.scale+",0,0,"+a.scale+","+c+","+d+")","-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"})}}).mouseleave(function(n){1!=a.scale&&e.addClass("ibg-exiting"),e.addClass("ibg-exiting").find("> .ibg-bg").css({"-webkit-transform":"matrix(1,0,0,1,0,0)","-moz-transform":"matrix(1,0,0,1,0,0)","-o-transform":"matrix(1,0,0,1,0,0)",transform:"matrix(1,0,0,1,0,0)","-webkit-transition":"-webkit-transform "+a.animationSpeed+" linear","-moz-transition":"-moz-transform "+a.animationSpeed+" linear","-o-transition":"-o-transform "+a.animationSpeed+" linear",transition:"transform "+a.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.removeClass("ibg-exiting")})})})}}(window.jQuery);